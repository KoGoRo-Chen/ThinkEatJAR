<!DOCTYPE html>
<html lang="zh-TW" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>發表食記</title>
    <link
            href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0/dist/css/bootstrap.min.css"
            rel="stylesheet">
    <link rel="stylesheet"
          href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.1/font/bootstrap-icons.css">
    <script
            src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0/dist/js/bootstrap.bundle.min.js"></script>
    <script
            src="https://cdn.jsdelivr.net/npm/jquery@3.7.1/dist/jquery.min.js"></script>
</head>
<body>
<header>
    <div th:insert="~{Fragment/Header :: header}">
    </div>
</header>

<main>
    <div class="container-fluid d-flex flex-column">
        <!-- 餐廳縮圖區 + 店名 + 地址、價位 +標籤 -->
        <div class="infoArea" style="background-image: ">
            <div class="resName">${ resByResId.getResName() }</div>
            <div class="resinfo">
                <p> ${ resByResId.getResAddress() }</p>
                <p>${ resByResId.price.getName() }</p>
                <p>
                    <c:forEach items="${ resByResId.tags }" var="tags">${ tags.getName() } &nbsp;
                    </c:forEach>
                </p>
            </div>
        </div> <!-- 餐廳縮圖區結束 -->
        <!-- 食記一覽區 -->
        <div class="ViewAlleatRepo">
            <fieldset class="">
                <legend>
                    <span>食記一覽</span>
                </legend>
                <table>
                    <thead>
                    <tr>
                        <th>發文者</th>
                        <th>品嘗日期</th>
                        <th>標題</th>
                        <th>連結</th>
                    </tr>
                    </thead>
                    <tbody>
                    <c:forEach items="${ eatsByResId }" var="eatsByResId">
                        <tr>
                            <!-- 發文者 -->
                            <td>會員功能尚待追加</td>
                            <!-- 發文日期 -->
                            <td>
                                <fmt:formatDate value="${ eatsByResId.getEatDate() }" pattern="yyyy-MM-dd E" />
                            </td>
                            <!-- 發文標題 -->
                            <td>${ eatsByResId.getRepoTitle() }</td>
                            <!-- 連結 -->
                            <td>
                                <a href="${pageContext.request.contextPath}/mvc/ViewEat/EatRepo/${eatsByResId.shareEatId}">點我前往</a>
                            </td>
                        </tr>
                    </c:forEach>
                    </tbody>
                </table>
            </fieldset>
        </div><!-- 食記一覽區結束 -->
    </div>
</main>

</body>
</html>